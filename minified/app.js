!function(e,t,n){"use strict";var a=function(){v.addClass("set-time"),k.addClass("set-time")},i=function(){u.blur(),v.className="overlay",k.className="icons"},o=function(){b.textContent="From "+d.humanize(),reqAnim(s)},s=function(){var e,t,n,a=moment.duration(r.diff()),i=a.get("H"),o=a.get("m"),h=a.get("s"),f=360*(d.asMilliseconds()-a.asMilliseconds())/d.asMilliseconds()-90;i<=0&&o<=0&&h<=0?c():l||(C.textContent="",e=1==i.toString().length?"0"+i:i,t=1==o.toString().length?"0"+o:o,n=1==h.toString().length?"0"+h:h,i>0&&(C.textContent+=e+":"),C.textContent+=t+":"+n,m.clearRect(0,0,g.width,g.height),m.beginPath(),m.arc(g.width/2,g.height/2,g.height/2-2,m.toRadian(-90),m.toRadian(f)),m.strokeStyle="#fd695d",m.lineWidth=2,m.stroke(),reqAnim(s))},c=function(){f.removeClass("counting").addClass("done"),g.addClass("done"),m.clearRect(0,0,g.width,g.height),m.beginPath(),m.arc(g.width/2,g.height/2,g.height/2-2,m.toRadian(-90),m.toRadian(270)),m.strokeStyle="#fd695d",m.lineWidth=2,m.stroke(),h=!1,l=!1,d=!1,r=!1},h=!1,l=!1,d=!1,r=!1,g=get("canvas"),m=g.getContext("2d"),f=get(".timer"),u=get(".close"),v=get(".overlay"),k=get(".icons"),C=get(".remaining"),b=get(".desc"),w=getEm(".input"),R=get(".icons .fa.fa-clock-o"),x=get("button.set-time"),S=get("button.cancel");f.on("click",function(e){var t;h?l||t||(t=new Date):a()}),R.on("click",a),e.on("hashchange",function(e){var t,a,i=n.hash.match(/\d+/);if(!i||!i.length)return!1;i=i[0],t=parseInt(i/60/60),i-=60*t*60,a=parseInt(i/60),i-=60*a,w.forEach(function(e){switch(e.name){case"h":e.value=t;break;case"m":e.value=a;break;case"s":e.value=i}}),x.fn.clickfalse()}),x.on("click",function(e){var t,n;n=0,t||(t=new Date),f.hasClass("done")&&(f.removeClass("done"),g.removeClass("done")),h=moment(t),w.forEach(function(e){var t=1e3*Number(e.value);if(t)switch(e.name){case"h":n+=60*t*60;break;case"m":n+=60*t;break;case"s":n+=t}}),d=moment.duration(n),r=moment().add(d),f.addClass("counting"),o(),i()}),u.on("click",i),S.on("click",i),l||a(),e.fn.hashchangefalse(),g.width=g.offsetWidth,g.height=g.offsetHeight}(this,document,location);