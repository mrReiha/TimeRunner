!function(e,t,n){"use strict";var a=function(){v.addClass("set-time"),k.addClass("set-time")},i=function(){u.blur(),v.className="overlay",k.className="icons"},o=function(){b.textContent="From "+h.humanize(),reqAnim(s)},s=function(){var e,t,n,a=moment.duration(r.diff()),i=a.get("H"),o=a.get("m"),d=a.get("s"),f=360*(h.asMilliseconds()-a.asMilliseconds())/h.asMilliseconds()-90;i<=0&&o<=0&&d<=0?c():l||(C.textContent="",e=1==i.toString().length?"0"+i:i,t=1==o.toString().length?"0"+o:o,n=1==d.toString().length?"0"+d:d,i>0&&(C.textContent+=e+":"),C.textContent+=t+":"+n,g.clearRect(0,0,m.width,m.height),g.beginPath(),g.arc(m.width/2,m.height/2,m.height/2-2,g.toRadian(-90),g.toRadian(f)),g.strokeStyle="#fd695d",g.lineWidth=2,g.stroke(),reqAnim(s))},c=function(){f.removeClass("counting").addClass("done"),m.addClass("done"),g.clearRect(0,0,m.width,m.height),g.beginPath(),g.arc(m.width/2,m.height/2,m.height/2-2,g.toRadian(-90),g.toRadian(270)),g.strokeStyle="#fd695d",g.lineWidth=2,g.stroke(),d=!1,l=!1,h=!1,r=!1},d=!1,l=!1,h=!1,r=!1,m=get("canvas"),g=m.getContext("2d"),f=get(".timer"),u=get(".close"),v=get(".overlay"),k=get(".icons"),C=get(".remaining"),b=get(".desc"),w=getEm(".input"),R=get(".icons .fa.fa-clock-o"),x=get("button.set-time"),S=get("button.cancel");f.on("click",function(e){var t,n;d?l?(t=moment().diff(l),h=moment.duration(t+h.asMilliseconds()),r=r.add(t),l=!1,reqAnim(s)):(n||(n=new Date),l=moment(n)):a()}),R.on("click",a),e.on("hashchange",function(e){var t,a,i=n.hash.match(/\d+/);if(!i||!i.length)return!1;i=i[0],t=parseInt(i/60/60),i-=60*t*60,a=parseInt(i/60),i-=60*a,w.forEach(function(e){switch(e.name){case"h":e.value=t;break;case"m":e.value=a;break;case"s":e.value=i}}),x.fn.clickfalse()}),x.on("click",function(e){var t,n;n=0,t||(t=new Date),f.hasClass("done")&&(f.removeClass("done"),m.removeClass("done")),d=moment(t),w.forEach(function(e){var t=1e3*Number(e.value);if(t)switch(e.name){case"h":n+=60*t*60;break;case"m":n+=60*t;break;case"s":n+=t}}),h=moment.duration(n),r=moment().add(h),f.addClass("counting"),o(),i()}),u.on("click",i),S.on("click",i),l||a(),e.fn.hashchangefalse(),m.width=m.offsetWidth,m.height=m.offsetHeight}(this,document,location);